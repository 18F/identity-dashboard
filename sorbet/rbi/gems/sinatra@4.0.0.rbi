# typed: true

# DO NOT EDIT MANUALLY
# This is an autogenerated file for types exported from the `sinatra` gem.
# Please instead update this file by running `bin/tapioca gem sinatra`.


# source://sinatra//lib/sinatra/main.rb#54
class Rack::Builder
  include ::Sinatra::Delegator

  # source://rack/3.1.8/lib/rack/builder.rb#116
  def initialize(default_app = T.unsafe(nil), **options, &block); end

  # source://rack/3.1.8/lib/rack/builder.rb#276
  def call(env); end

  # source://rack/3.1.8/lib/rack/builder.rb#259
  def freeze_app; end

  # source://rack/3.1.8/lib/rack/builder.rb#252
  def map(path, &block); end

  # source://rack/3.1.8/lib/rack/builder.rb#132
  def options; end

  # source://rack/3.1.8/lib/rack/builder.rb#193
  def run(app = T.unsafe(nil), &block); end

  # source://rack/3.1.8/lib/rack/builder.rb#264
  def to_app; end

  # source://rack/3.1.8/lib/rack/builder.rb#159
  def use(middleware, *args, **_arg2, &block); end

  # source://rack/3.1.8/lib/rack/builder.rb#209
  def warmup(prc = T.unsafe(nil), &block); end

  private

  # source://rack/3.1.8/lib/rack/builder.rb#284
  def generate_map(default_app, mapping); end

  class << self
    # source://rack/3.1.8/lib/rack/builder.rb#136
    def app(default_app = T.unsafe(nil), &block); end

    # source://rack/3.1.8/lib/rack/builder.rb#87
    def load_file(path, **options); end

    # source://rack/3.1.8/lib/rack/builder.rb#102
    def new_from_string(builder_script, path = T.unsafe(nil), **options); end

    # source://rack/3.1.8/lib/rack/builder.rb#65
    def parse_file(path, **options); end
  end
end

class Rack::CommonLogger
  # source://rack/3.1.8/lib/rack/common_logger.rb#29
  def initialize(app, logger = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#264
  def call(env); end

  # source://rack/3.1.8/lib/rack/common_logger.rb#41
  def call_without_check(env); end

  private

  # source://rack/3.1.8/lib/rack/common_logger.rb#83
  def extract_content_length(headers); end

  # source://rack/3.1.8/lib/rack/common_logger.rb#52
  def log(env, status, response_headers, began_at); end
end

# source://sinatra//lib/sinatra/main.rb#3
module Sinatra
  class << self
    # Include the helper modules provided in Sinatra's request context.
    #
    # source://sinatra//lib/sinatra/base.rb#2136
    def helpers(*extensions, &block); end

    # Create a new Sinatra application; the block is evaluated in the class scope.
    #
    # source://sinatra//lib/sinatra/base.rb#2124
    def new(base = T.unsafe(nil), &block); end

    # Extend the top-level DSL with the modules provided.
    #
    # source://sinatra//lib/sinatra/base.rb#2131
    def register(*extensions, &block); end

    # Use the middleware for classic applications.
    #
    # source://sinatra//lib/sinatra/base.rb#2141
    def use(*args, &block); end
  end
end

# Execution context for classic style (top-level) applications. All
# DSL methods executed on main are delegated to this class.
#
# The Application class should not be subclassed, unless you want to
# inherit all settings, routes, handlers, and error pages from the
# top-level. Subclassing Sinatra::Base is highly recommended for
# modular applications.
#
# source://sinatra//lib/sinatra/base.rb#2058
class Sinatra::Application < ::Sinatra::Base
  class << self
    # source://sinatra//lib/sinatra/base.rb#1362
    def app_file; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def app_file=(val); end

    def app_file?; end

    # source://sinatra//lib/sinatra/base.rb#2059
    def logging; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def logging=(val); end

    def logging?; end
    def method_override; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def method_override=(val); end

    def method_override?; end

    # source://sinatra//lib/sinatra/base.rb#2064
    def register(*extensions, &block); end

    # source://sinatra//lib/sinatra/main.rb#36
    def run; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def run=(val); end

    def run?; end
  end
end

# source://sinatra//lib/sinatra/base.rb#274
class Sinatra::BadRequest < ::Sinatra::Error
  # source://sinatra//lib/sinatra/base.rb#275
  def http_status; end
end

# Base class for all Sinatra applications and middleware.
#
# source://sinatra//lib/sinatra/base.rb#970
class Sinatra::Base
  include ::Rack::Utils
  include ::Sinatra::Helpers
  include ::Sinatra::Templates

  # @return [Base] a new instance of Base
  # @yield [_self]
  # @yieldparam _self [Sinatra::Base] the object that the method was called on
  #
  # source://sinatra//lib/sinatra/base.rb#980
  def initialize(app = T.unsafe(nil), **_kwargs); end

  # Returns the value of attribute app.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def app; end

  # Sets the attribute app
  #
  # @param value the value to set the attribute app to.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def app=(_arg0); end

  # Rack call interface.
  #
  # source://sinatra//lib/sinatra/base.rb#989
  def call(env); end

  # source://sinatra//lib/sinatra/base.rb#993
  def call!(env); end

  # Returns the value of attribute env.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def env; end

  # Sets the attribute env
  #
  # @param value the value to set the attribute env to.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def env=(_arg0); end

  # Forward the request to the downstream app -- middleware only.
  #
  # source://sinatra//lib/sinatra/base.rb#1040
  def forward; end

  # Exit the current block, halts any further processing
  # of the request, and returns the specified response.
  #
  # source://sinatra//lib/sinatra/base.rb#1027
  def halt(*response); end

  # Returns the value of attribute params.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def params; end

  # Sets the attribute params
  #
  # @param value the value to set the attribute params to.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def params=(_arg0); end

  # Pass control to the next matching route.
  # If there are no more matching routes, Sinatra will
  # return a 404 response.
  #
  # source://sinatra//lib/sinatra/base.rb#1035
  def pass(&block); end

  # Returns the value of attribute request.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def request; end

  # Sets the attribute request
  #
  # @param value the value to set the attribute request to.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def request=(_arg0); end

  # Returns the value of attribute response.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def response; end

  # Sets the attribute response
  #
  # @param value the value to set the attribute response to.
  #
  # source://sinatra//lib/sinatra/base.rb#977
  def response=(_arg0); end

  # Access settings defined with Base.set.
  #
  # source://sinatra//lib/sinatra/base.rb#1021
  def settings; end

  # Returns the value of attribute template_cache.
  #
  # source://sinatra//lib/sinatra/base.rb#978
  def template_cache; end

  private

  # Dispatch a request with error handling.
  #
  # source://sinatra//lib/sinatra/base.rb#1176
  def dispatch!; end

  # source://sinatra//lib/sinatra/base.rb#1268
  def dump_errors!(boom); end

  # Find an custom error block for the key(s) specified.
  #
  # source://sinatra//lib/sinatra/base.rb#1249
  def error_block!(key, *block_params); end

  # Run filters defined on the class and all superclasses.
  # Accepts an optional block to call after each filter is applied.
  #
  # source://sinatra//lib/sinatra/base.rb#1054
  def filter!(type, base = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#1922
  def force_encoding(*args); end

  # Error handling during requests.
  #
  # source://sinatra//lib/sinatra/base.rb#1203
  def handle_exception!(boom); end

  # Run the block with 'throw :halt' support and apply result to the response.
  #
  # source://sinatra//lib/sinatra/base.rb#1160
  def invoke(&block); end

  # If the current request matches pattern and conditions, fill params
  # with keys and call the given block.
  # Revert params afterwards.
  #
  # Returns pass block.
  #
  # source://sinatra//lib/sinatra/base.rb#1097
  def process_route(pattern, conditions, block = T.unsafe(nil), values = T.unsafe(nil)); end

  # Run routes defined on the class and all superclasses.
  #
  # source://sinatra//lib/sinatra/base.rb#1063
  def route!(base = T.unsafe(nil), pass_block = T.unsafe(nil)); end

  # Run a route block and throw :halt with the result.
  #
  # source://sinatra//lib/sinatra/base.rb#1088
  def route_eval; end

  # No matching route was found or all routes passed. The default
  # implementation is to forward the request downstream when running
  # as middleware (@app is non-nil); when no downstream app is set, raise
  # a NotFound exception. Subclasses can override this method to perform
  # custom route miss logic.
  #
  # @raise [NotFound]
  #
  # source://sinatra//lib/sinatra/base.rb#1135
  def route_missing; end

  # Attempt to serve static files from public directory. Throws :halt when
  # a matching file is found, returns nil otherwise.
  #
  # source://sinatra//lib/sinatra/base.rb#1143
  def static!(options = T.unsafe(nil)); end

  class << self
    def absolute_redirects; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def absolute_redirects=(val); end

    def absolute_redirects?; end

    # source://sinatra//lib/sinatra/base.rb#1362
    def add_charset; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def add_charset=(val); end

    def add_charset?; end

    # add a filter
    #
    # source://sinatra//lib/sinatra/base.rb#1493
    def add_filter(type, path = T.unsafe(nil), **options, &block); end

    # Define an after filter; runs after all requests within the same
    # context as route handlers and may access/modify the request and
    # response.
    #
    # source://sinatra//lib/sinatra/base.rb#1488
    def after(path = T.unsafe(nil), **options, &block); end

    def app_file; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def app_file=(val); end

    def app_file?; end

    # Define a before filter; runs before all requests within the same
    # context as route handlers and may access/modify the request and
    # response.
    #
    # source://sinatra//lib/sinatra/base.rb#1481
    def before(path = T.unsafe(nil), **options, &block); end

    # source://sinatra//lib/sinatra/base.rb#1965
    def bind; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def bind=(val); end

    def bind?; end

    # Creates a Rack::Builder instance with all the middleware set up and
    # the given +app+ as end point.
    #
    # source://sinatra//lib/sinatra/base.rb#1665
    def build(app); end

    # source://sinatra//lib/sinatra/base.rb#1673
    def call(env); end

    # Like Kernel#caller but excluding certain magic entries and without
    # line / method information; the resulting array contains filenames only.
    #
    # source://sinatra//lib/sinatra/base.rb#1679
    def caller_files; end

    # source://sinatra//lib/sinatra/base.rb#1300
    def callers_to_ignore; end

    # Add a route condition. The route is considered non-matching when the
    # block returns false.
    #
    # source://sinatra//lib/sinatra/base.rb#1507
    def condition(name = T.unsafe(nil), &block); end

    # Set configuration options for Sinatra and/or the app.
    # Allows scoping of settings for certain environments.
    #
    # @yield [_self]
    # @yieldparam _self [Sinatra::Base] the object that the method was called on
    #
    # source://sinatra//lib/sinatra/base.rb#1574
    def configure(*envs); end

    # source://sinatra//lib/sinatra/base.rb#1362
    def default_content_type; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def default_content_type=(val); end

    def default_content_type?; end

    # source://sinatra//lib/sinatra/base.rb#1362
    def default_encoding; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def default_encoding=(val); end

    def default_encoding?; end

    # source://sinatra//lib/sinatra/base.rb#1538
    def delete(path, opts = T.unsafe(nil), &block); end

    # @return [Boolean]
    #
    # source://sinatra//lib/sinatra/base.rb#1568
    def development?; end

    # Same as calling `set :option, false` for each of the given options.
    #
    # source://sinatra//lib/sinatra/base.rb#1388
    def disable(*opts); end

    # source://sinatra//lib/sinatra/base.rb#1930
    def dump_errors; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def dump_errors=(val); end

    def dump_errors?; end
    def empty_path_info; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def empty_path_info=(val); end

    def empty_path_info?; end

    # Same as calling `set :option, true` for each of the given options.
    #
    # source://sinatra//lib/sinatra/base.rb#1383
    def enable(*opts); end

    def environment; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def environment=(val); end

    def environment?; end

    # Define a custom error handler. Optionally takes either an Exception
    # class, or an HTTP status code to specify which errors should be
    # handled.
    #
    # source://sinatra//lib/sinatra/base.rb#1395
    def error(*codes, &block); end

    # Returns the value of attribute errors.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def errors; end

    # Extension modules registered on this class and all superclasses.
    #
    # source://sinatra//lib/sinatra/base.rb#1323
    def extensions; end

    # Returns the value of attribute filters.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def filters; end

    # Force data to specified encoding. It defaults to settings.default_encoding
    # which is UTF-8 by default
    #
    # source://sinatra//lib/sinatra/base.rb#1909
    def force_encoding(data, encoding = T.unsafe(nil)); end

    # Defining a `GET` handler also automatically defines
    # a `HEAD` handler.
    #
    # source://sinatra//lib/sinatra/base.rb#1526
    def get(path, opts = T.unsafe(nil), &block); end

    def handler_name; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def handler_name=(val); end

    def handler_name?; end

    # source://sinatra//lib/sinatra/base.rb#1540
    def head(path, opts = T.unsafe(nil), &block); end

    # Makes the methods defined in the block and in the Modules given
    # in `extensions` available to the handlers and templates
    #
    # source://sinatra//lib/sinatra/base.rb#1552
    def helpers(*extensions, &block); end

    # Load embedded templates from the file; uses the caller's __FILE__
    # when no file is specified.
    #
    # source://sinatra//lib/sinatra/base.rb#1421
    def inline_templates=(file = T.unsafe(nil)); end

    # Define the layout template. The block must return the template source.
    #
    # source://sinatra//lib/sinatra/base.rb#1415
    def layout(name = T.unsafe(nil), &block); end

    # source://sinatra//lib/sinatra/base.rb#1546
    def link(path, opts = T.unsafe(nil), &block); end

    def lock; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def lock=(val); end

    def lock?; end
    def logging; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def logging=(val); end

    def logging?; end
    def method_override; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def method_override=(val); end

    def method_override?; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def methodoverride=(val); end

    def methodoverride?; end

    # Middleware used in this class and all superclasses.
    #
    # source://sinatra//lib/sinatra/base.rb#1332
    def middleware; end

    # Lookup or register a mime type in Rack's mime registry.
    #
    # source://sinatra//lib/sinatra/base.rb#1454
    def mime_type(type, value = T.unsafe(nil)); end

    # provides all mime types matching type, including deprecated types:
    #   mime_types :html # => ['text/html']
    #   mime_types :js   # => ['application/javascript', 'text/javascript']
    #
    # source://sinatra//lib/sinatra/base.rb#1467
    def mime_types(type); end

    # source://sinatra//lib/sinatra/base.rb#1362
    def mustermann_opts; end

    # source://sinatra//lib/sinatra/base.rb#1370
    def mustermann_opts=(val); end

    def mustermann_opts?; end

    # Create a new instance of the class fronted by its middleware
    # pipeline. The object is guaranteed to respond to #call but may not be
    # an instance of the class new was called on.
    #
    # source://sinatra//lib/sinatra/base.rb#1657
    def new(*args, **_arg1, &block); end

    def new!(*_arg0); end

    # Sugar for `error(404) { ... }`
    #
    # source://sinatra//lib/sinatra/base.rb#1404
    def not_found(&block); end

    # source://sinatra//lib/sinatra/base.rb#1497
    def on_start(&on_start_callback); end

    # Returns the value of attribute on_start_callback.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def on_start_callback; end

    # source://sinatra//lib/sinatra/base.rb#1501
    def on_stop(&on_stop_callback); end

    # Returns the value of attribute on_stop_callback.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def on_stop_callback; end

    # source://sinatra//lib/sinatra/base.rb#1542
    def options(path, opts = T.unsafe(nil), &block); end

    # source://sinatra//lib/sinatra/base.rb#1544
    def patch(path, opts = T.unsafe(nil), &block); end

    def port; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def port=(val); end

    def port?; end

    # source://sinatra//lib/sinatra/base.rb#1536
    def post(path, opts = T.unsafe(nil), &block); end

    def prefixed_redirects; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def prefixed_redirects=(val); end

    def prefixed_redirects?; end

    # @return [Boolean]
    #
    # source://sinatra//lib/sinatra/base.rb#1569
    def production?; end

    def protection; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def protection=(val); end

    def protection?; end

    # The prototype instance used to process requests.
    #
    # source://sinatra//lib/sinatra/base.rb#1647
    def prototype; end

    # source://sinatra//lib/sinatra/base.rb#1511
    def public=(value); end

    # source://sinatra//lib/sinatra/base.rb#1520
    def public_dir; end

    # source://sinatra//lib/sinatra/base.rb#1516
    def public_dir=(value); end

    # source://sinatra//lib/sinatra/base.rb#1988
    def public_folder; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def public_folder=(val); end

    def public_folder?; end

    # source://sinatra//lib/sinatra/base.rb#1534
    def put(path, opts = T.unsafe(nil), &block); end

    def quiet; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def quiet=(val); end

    def quiet?; end

    # Stop the self-hosted server if running.
    #
    # source://sinatra//lib/sinatra/base.rb#1586
    def quit!; end

    # source://sinatra//lib/sinatra/base.rb#1929
    def raise_errors; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def raise_errors=(val); end

    def raise_errors?; end

    # Register an extension. Alternatively take a block from which an
    # extension will be created and registered on the fly.
    #
    # source://sinatra//lib/sinatra/base.rb#1559
    def register(*extensions, &block); end

    # source://sinatra//lib/sinatra/base.rb#1984
    def reload_templates; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def reload_templates=(val); end

    def reload_templates?; end

    # Removes all routes, filters, middleware and extension hooks from the
    # current class (not routes/filters/... defined by its superclass).
    #
    # source://sinatra//lib/sinatra/base.rb#1306
    def reset!; end

    # source://sinatra//lib/sinatra/base.rb#1982
    def root; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def root=(val); end

    def root?; end

    # Returns the value of attribute routes.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def routes; end

    def run; end

    # Run the Sinatra app as a self-hosted server using
    # Puma, Falcon, or WEBrick (in that order). If given a block, will call
    # with the constructed handler once we have taken the stage.
    #
    # source://sinatra//lib/sinatra/base.rb#1603
    def run!(options = T.unsafe(nil), &block); end

    # source://sinatra//lib/sinatra/base.rb#1361
    def run=(val); end

    def run?; end

    # Check whether the self-hosted server is running or not.
    #
    # @return [Boolean]
    #
    # source://sinatra//lib/sinatra/base.rb#1642
    def running?; end

    def running_server; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def running_server=(val); end

    def running_server?; end

    # source://sinatra//lib/sinatra/base.rb#1362
    def server; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def server=(val); end

    def server?; end

    # source://sinatra//lib/sinatra/base.rb#1362
    def session_secret; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def session_secret=(val); end

    def session_secret?; end

    # source://sinatra//lib/sinatra/base.rb#1362
    def session_store; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def session_store=(val); end

    def session_store?; end
    def sessions; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def sessions=(val); end

    def sessions?; end

    # Sets an option to the given value.  If the value is a proc,
    # the proc will be called every time the option is accessed.
    #
    # @raise [ArgumentError]
    #
    # source://sinatra//lib/sinatra/base.rb#1342
    def set(option, value = T.unsafe(nil), ignore_setter = T.unsafe(nil), &block); end

    # Access settings defined with Base.set.
    #
    # source://sinatra//lib/sinatra/base.rb#1016
    def settings; end

    # source://sinatra//lib/sinatra/base.rb#1931
    def show_exceptions; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def show_exceptions=(val); end

    def show_exceptions?; end

    # Run the Sinatra app as a self-hosted server using
    # Puma, Falcon, or WEBrick (in that order). If given a block, will call
    # with the constructed handler once we have taken the stage.
    #
    # source://sinatra//lib/sinatra/base.rb#1603
    def start!(options = T.unsafe(nil), &block); end

    # source://sinatra//lib/sinatra/base.rb#1989
    def static; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def static=(val); end

    def static?; end
    def static_cache_control; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def static_cache_control=(val); end

    def static_cache_control?; end

    # Stop the self-hosted server if running.
    #
    # source://sinatra//lib/sinatra/base.rb#1586
    def stop!; end

    def strict_paths; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def strict_paths=(val); end

    def strict_paths?; end

    # Define a named template. The block must return the template source.
    #
    # source://sinatra//lib/sinatra/base.rb#1409
    def template(name, &block); end

    # Returns the value of attribute templates.
    #
    # source://sinatra//lib/sinatra/base.rb#1298
    def templates; end

    # @return [Boolean]
    #
    # source://sinatra//lib/sinatra/base.rb#1570
    def test?; end

    def threaded; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def threaded=(val); end

    def threaded?; end
    def traps; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def traps=(val); end

    def traps?; end

    # source://sinatra//lib/sinatra/base.rb#1548
    def unlink(path, opts = T.unsafe(nil), &block); end

    # Use the specified Rack middleware
    #
    # source://sinatra//lib/sinatra/base.rb#1579
    def use(middleware, *args, **_arg2, &block); end

    def use_code; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def use_code=(val); end

    def use_code?; end

    # source://sinatra//lib/sinatra/base.rb#1983
    def views; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def views=(val); end

    def views?; end
    def x_cascade; end

    # source://sinatra//lib/sinatra/base.rb#1361
    def x_cascade=(val); end

    def x_cascade?; end

    private

    # Condition for matching user agent. Parameter should be Regexp.
    # Will set params[:agent].
    #
    # source://sinatra//lib/sinatra/base.rb#1739
    def agent(pattern); end

    # Like Kernel#caller but excluding certain magic entries
    #
    # source://sinatra//lib/sinatra/base.rb#1900
    def cleaned_caller(keep = T.unsafe(nil)); end

    # source://sinatra//lib/sinatra/base.rb#1810
    def compile(path, route_mustermann_opts = T.unsafe(nil)); end

    # source://sinatra//lib/sinatra/base.rb#1790
    def compile!(verb, path, block, **options); end

    # Dynamically defines a method on settings.
    #
    # source://sinatra//lib/sinatra/base.rb#1725
    def define_singleton(name, content = T.unsafe(nil)); end

    # source://sinatra//lib/sinatra/base.rb#1783
    def generate_method(method_name, &block); end

    # Condition for matching host name. Parameter might be String or Regexp.
    #
    # source://sinatra//lib/sinatra/base.rb#1733
    def host_name(pattern); end

    # @private
    #
    # source://sinatra//lib/sinatra/base.rb#1879
    def inherited(subclass); end

    # source://sinatra//lib/sinatra/base.rb#1779
    def invoke_hook(name, *args); end

    # Condition for matching mimetypes. Accepts file extensions.
    #
    # source://sinatra//lib/sinatra/base.rb#1752
    def provides(*types); end

    # source://sinatra//lib/sinatra/base.rb#1771
    def route(verb, path, options = T.unsafe(nil), &block); end

    # source://sinatra//lib/sinatra/base.rb#1841
    def setup_common_logger(builder); end

    # source://sinatra//lib/sinatra/base.rb#1845
    def setup_custom_logger(builder); end

    # source://sinatra//lib/sinatra/base.rb#1814
    def setup_default_middleware(builder); end

    # source://sinatra//lib/sinatra/base.rb#1828
    def setup_logging(builder); end

    # source://sinatra//lib/sinatra/base.rb#1824
    def setup_middleware(builder); end

    # source://sinatra//lib/sinatra/base.rb#1837
    def setup_null_logger(builder); end

    # source://sinatra//lib/sinatra/base.rb#1853
    def setup_protection(builder); end

    # source://sinatra//lib/sinatra/base.rb#1870
    def setup_sessions(builder); end

    # source://sinatra//lib/sinatra/base.rb#1709
    def setup_traps; end

    # Starts the server by running the Rack Handler.
    #
    # source://sinatra//lib/sinatra/base.rb#1686
    def start_server(handler, server_settings, handler_name); end

    # @return [Boolean]
    #
    # source://sinatra//lib/sinatra/base.rb#1705
    def suppress_messages?; end

    # source://sinatra//lib/sinatra/base.rb#1886
    def synchronize(&block); end

    # Condition for matching user agent. Parameter should be Regexp.
    # Will set params[:agent].
    #
    # source://sinatra//lib/sinatra/base.rb#1739
    def user_agent(pattern); end

    # used for deprecation warnings
    #
    # source://sinatra//lib/sinatra/base.rb#1895
    def warn_for_deprecation(message); end
  end
end

# source://sinatra//lib/sinatra/base.rb#975
Sinatra::Base::URI_INSTANCE = T.let(T.unsafe(nil), URI::RFC2396_Parser)

# Behaves exactly like Rack::CommonLogger with the notable exception that it does nothing,
# if another CommonLogger is already in the middleware chain.
#
# source://sinatra//lib/sinatra/base.rb#257
class Sinatra::CommonLogger < ::Rack::CommonLogger
  # source://sinatra//lib/sinatra/base.rb#258
  def call(env); end
end

# Sinatra delegation mixin. Mixing this module into an object causes all
# methods to be delegated to the Sinatra::Application class. Used primarily
# at the top-level.
#
# source://sinatra//lib/sinatra/base.rb#2074
module Sinatra::Delegator
  private

  # source://sinatra//lib/sinatra/base.rb#2077
  def after(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def before(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def configure(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def delete(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def development?(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def disable(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def enable(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def error(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def get(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def head(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def helpers(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def layout(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def link(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def mime_type(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def not_found(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def on_start(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def on_stop(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def options(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def patch(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def post(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def production?(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def put(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def register(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def set(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def settings(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def template(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def test?(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def unlink(*args, **_arg1, &block); end

  # source://sinatra//lib/sinatra/base.rb#2077
  def use(*args, **_arg1, &block); end

  class << self
    # source://sinatra//lib/sinatra/base.rb#2075
    def delegate(*methods); end

    # Returns the value of attribute target.
    #
    # source://sinatra//lib/sinatra/base.rb#2094
    def target; end

    # Sets the attribute target
    #
    # @param value the value to set the attribute target to.
    #
    # source://sinatra//lib/sinatra/base.rb#2094
    def target=(_arg0); end
  end
end

# source://sinatra//lib/sinatra/base.rb#271
class Sinatra::Error < ::StandardError; end

# Some Rack handlers implement an extended body object protocol, however,
# some middleware (namely Rack::Lint) will break it by not mirroring the methods in question.
# This middleware will detect an extended body object and will make sure it reaches the
# handler directly. We do this here, so our middleware and middleware set up by the app will
# still be able to run.
#
# source://sinatra//lib/sinatra/base.rb#222
class Sinatra::ExtendedRack < ::Struct
  # source://sinatra//lib/sinatra/base.rb#223
  def call(env); end

  private

  # @raise [NotImplementedError]
  #
  # source://sinatra//lib/sinatra/base.rb#242
  def after_response(&block); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#248
  def async?(status, _headers, body); end

  # source://sinatra//lib/sinatra/base.rb#235
  def setup_close(env, _status, _headers, body); end
end

# Methods available to routes, before/after filters, and views.
#
# source://sinatra//lib/sinatra/base.rb#283
module Sinatra::Helpers
  # Set the Content-Disposition to "attachment" with the specified filename,
  # instructing the user agents to prompt to save.
  #
  # source://sinatra//lib/sinatra/base.rb#414
  def attachment(filename = T.unsafe(nil), disposition = T.unsafe(nil)); end

  # Sugar for redirect (example:  redirect back)
  #
  # source://sinatra//lib/sinatra/base.rb#650
  def back; end

  # whether or not the status is set to 400
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#685
  def bad_request?; end

  # Set or retrieve the response body. When a block is given,
  # evaluation is deferred until the body is read with #each.
  #
  # source://sinatra//lib/sinatra/base.rb#292
  def body(value = T.unsafe(nil), &block); end

  # Specify response freshness policy for HTTP caches (Cache-Control header).
  # Any number of non-value directives (:public, :private, :no_cache,
  # :no_store, :must_revalidate, :proxy_revalidate) may be passed along with
  # a Hash of value directives (:max_age, :s_maxage).
  #
  #   cache_control :public, :must_revalidate, :max_age => 60
  #   => Cache-Control: public, must-revalidate, max-age=60
  #
  # See RFC 2616 / 14.9 for more on standard cache control directives:
  # http://tools.ietf.org/html/rfc2616#section-14.9.1
  #
  # source://sinatra//lib/sinatra/base.rb#537
  def cache_control(*values); end

  # whether or not the status is set to 4xx
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#670
  def client_error?; end

  # Set the content-type of the response body given a media type or file
  # extension.
  #
  # source://sinatra//lib/sinatra/base.rb#383
  def content_type(type = T.unsafe(nil), params = T.unsafe(nil)); end

  # Halt processing and return the error status provided.
  #
  # source://sinatra//lib/sinatra/base.rb#346
  def error(code, body = T.unsafe(nil)); end

  # Set the response entity tag (HTTP 'ETag' header) and halt if conditional
  # GET matches. The +value+ argument is an identifier that uniquely
  # identifies the current version of the resource. The +kind+ argument
  # indicates whether the etag should be used as a :strong (default) or :weak
  # cache validator.
  #
  # When the current request includes an 'If-None-Match' header with a
  # matching etag, execution is immediately halted. If the request method is
  # GET or HEAD, a '304 Not Modified' response is sent.
  #
  # source://sinatra//lib/sinatra/base.rb#620
  def etag(value, options = T.unsafe(nil)); end

  # Set the Expires header and Cache-Control/max-age directive. Amount
  # can be an integer number of seconds in the future or a Time object
  # indicating when the response should be considered "stale". The remaining
  # "values" arguments are passed to the #cache_control helper:
  #
  #   expires 500, :public, :must_revalidate
  #   => Cache-Control: public, must-revalidate, max-age=500
  #   => Expires: Mon, 08 Jun 2009 08:50:17 GMT
  #
  # source://sinatra//lib/sinatra/base.rb#565
  def expires(amount, *values); end

  # Set multiple response headers with Hash.
  #
  # source://sinatra//lib/sinatra/base.rb#361
  def headers(hash = T.unsafe(nil)); end

  # whether or not the status is set to 1xx
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#655
  def informational?; end

  # Set the last modified time of the resource (HTTP 'Last-Modified' header)
  # and halt if conditional GET matches. The +time+ argument is a Time,
  # DateTime, or other object that responds to +to_time+.
  #
  # When the current request includes an 'If-Modified-Since' header that is
  # equal or later than the time specified, execution is immediately halted
  # with a '304 Not Modified' response.
  #
  # source://sinatra//lib/sinatra/base.rb#589
  def last_modified(time); end

  # Access shared logger object.
  #
  # source://sinatra//lib/sinatra/base.rb#372
  def logger; end

  # Look up a media type by file extension in Rack's mime registry.
  #
  # source://sinatra//lib/sinatra/base.rb#377
  def mime_type(type); end

  # Halt processing and return a 404 Not Found.
  #
  # source://sinatra//lib/sinatra/base.rb#356
  def not_found(body = T.unsafe(nil)); end

  # whether or not the status is set to 404
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#680
  def not_found?; end

  # Halt processing and redirect to the URI provided.
  #
  # source://sinatra//lib/sinatra/base.rb#307
  def redirect(uri, *args); end

  # whether or not the status is set to 3xx
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#665
  def redirect?; end

  # Use the contents of the file at +path+ as the response body.
  #
  # source://sinatra//lib/sinatra/base.rb#425
  def send_file(path, opts = T.unsafe(nil)); end

  # whether or not the status is set to 5xx
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#675
  def server_error?; end

  # Access the underlying Rack session.
  #
  # source://sinatra//lib/sinatra/base.rb#367
  def session; end

  # Set or retrieve the response status code.
  #
  # source://sinatra//lib/sinatra/base.rb#285
  def status(value = T.unsafe(nil)); end

  # Allows to start sending data to the client even though later parts of
  # the response body have not yet been generated.
  #
  # The close parameter specifies whether Stream#close should be called
  # after the block has been executed.
  #
  # source://sinatra//lib/sinatra/base.rb#512
  def stream(keep_open = T.unsafe(nil)); end

  # whether or not the status is set to 2xx
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#660
  def success?; end

  # Generates a Time object from the given value.
  # Used by #expires and #last_modified.
  #
  # source://sinatra//lib/sinatra/base.rb#691
  def time_for(value); end

  # Generates the absolute URI for a given path in the app.
  # Takes Rack routers and reverse proxies into account.
  #
  # source://sinatra//lib/sinatra/base.rb#325
  def to(addr = T.unsafe(nil), absolute = T.unsafe(nil), add_script_name = T.unsafe(nil)); end

  # Generates the absolute URI for a given path in the app.
  # Takes Rack routers and reverse proxies into account.
  #
  # source://sinatra//lib/sinatra/base.rb#325
  def uri(addr = T.unsafe(nil), absolute = T.unsafe(nil), add_script_name = T.unsafe(nil)); end

  # Generates the absolute URI for a given path in the app.
  # Takes Rack routers and reverse proxies into account.
  #
  # source://sinatra//lib/sinatra/base.rb#325
  def url(addr = T.unsafe(nil), absolute = T.unsafe(nil), add_script_name = T.unsafe(nil)); end

  private

  # Helper method checking if a ETag value list includes the current ETag.
  #
  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#708
  def etag_matches?(list, new_resource = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#714
  def with_params(temp_params); end
end

# source://sinatra//lib/sinatra/base.rb#610
Sinatra::Helpers::ETAG_KINDS = T.let(T.unsafe(nil), Array)

# https://html.spec.whatwg.org/#multipart-form-data
#
# source://sinatra//lib/sinatra/base.rb#406
Sinatra::Helpers::MULTIPART_FORM_DATA_REPLACEMENT_TABLE = T.let(T.unsafe(nil), Hash)

# Class of the response body in case you use #stream.
#
# Three things really matter: The front and back block (back being the
# block generating content, front the one sending it to the client) and
# the scheduler, integrating with whatever concurrency feature the Rack
# handler is using.
#
# Scheduler has to respond to defer and schedule.
#
# source://sinatra//lib/sinatra/base.rb#457
class Sinatra::Helpers::Stream
  # @return [Stream] a new instance of Stream
  #
  # source://sinatra//lib/sinatra/base.rb#461
  def initialize(scheduler = T.unsafe(nil), keep_open = T.unsafe(nil), &back); end

  # source://sinatra//lib/sinatra/base.rb#489
  def <<(data); end

  # source://sinatra//lib/sinatra/base.rb#494
  def callback(&block); end

  # source://sinatra//lib/sinatra/base.rb#469
  def close; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#502
  def closed?; end

  # source://sinatra//lib/sinatra/base.rb#476
  def each(&front); end

  # source://sinatra//lib/sinatra/base.rb#494
  def errback(&block); end

  class << self
    # source://sinatra//lib/sinatra/base.rb#459
    def defer(*_arg0); end

    # source://sinatra//lib/sinatra/base.rb#458
    def schedule(*_arg0); end
  end
end

# A poor man's ActiveSupport::HashWithIndifferentAccess, with all the Rails-y
# stuff removed.
#
# Implements a hash where keys <tt>:foo</tt> and <tt>"foo"</tt> are
# considered to be the same.
#
#   rgb = Sinatra::IndifferentHash.new
#
#   rgb[:black]    =  '#000000' # symbol assignment
#   rgb[:black]  # => '#000000' # symbol retrieval
#   rgb['black'] # => '#000000' # string retrieval
#
#   rgb['white']   =  '#FFFFFF' # string assignment
#   rgb[:white]  # => '#FFFFFF' # symbol retrieval
#   rgb['white'] # => '#FFFFFF' # string retrieval
#
# Internally, symbols are mapped to strings when used as keys in the entire
# writing interface (calling e.g. <tt>[]=</tt>, <tt>merge</tt>). This mapping
# belongs to the public interface. For example, given:
#
#   hash = Sinatra::IndifferentHash.new
#   hash[:a] = 1
#
# You are guaranteed that the key is returned as a string:
#
#   hash.keys # => ["a"]
#
# Technically other types of keys are accepted:
#
#   hash = Sinatra::IndifferentHash
#   hash[:a] = 1
#   hash[0] = 0
#   hash # => { "a"=>1, 0=>0 }
#
# But this class is intended for use cases where strings or symbols are the
# expected keys and it is convenient to understand both as the same. For
# example the +params+ hash in Sinatra.
#
# source://sinatra//lib/sinatra/indifferent_hash.rb#41
class Sinatra::IndifferentHash < ::Hash
  # source://sinatra//lib/sinatra/indifferent_hash.rb#70
  def [](key); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#74
  def []=(key, value); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#56
  def assoc(key); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#181
  def compact; end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#46
  def default(*args); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#52
  def default=(value); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#98
  def delete(key); end

  # Added in Ruby 2.3
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#103
  def dig(key, *other_keys); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#185
  def except(*keys); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#64
  def fetch(key, *args); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#107
  def fetch_values(*keys); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#84
  def has_key?(key); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#92
  def has_value?(value); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#84
  def include?(key); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#80
  def key(value); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#84
  def key?(key); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#84
  def member?(key); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#143
  def merge(*other_hashes, &block); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#125
  def merge!(*other_hashes); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#60
  def rassoc(value); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#175
  def reject(*args, &block); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#147
  def replace(other_hash); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#169
  def select(*args, &block); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#113
  def slice(*keys); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#74
  def store(key, value); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#160
  def transform_keys(&block); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#164
  def transform_keys!; end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#151
  def transform_values(&block); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#155
  def transform_values!; end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#125
  def update(*other_hashes); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/indifferent_hash.rb#92
  def value?(value); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#119
  def values_at(*keys); end

  private

  # source://sinatra//lib/sinatra/indifferent_hash.rb#193
  def convert_key(key); end

  # source://sinatra//lib/sinatra/indifferent_hash.rb#197
  def convert_value(value); end

  class << self
    # source://sinatra//lib/sinatra/indifferent_hash.rb#42
    def [](*args); end
  end
end

# source://sinatra//lib/sinatra/base.rb#278
class Sinatra::NotFound < ::Sinatra::Error
  # source://sinatra//lib/sinatra/base.rb#279
  def http_status; end
end

# The request object. See Rack::Request for more info:
# https://rubydoc.info/github/rack/rack/main/Rack/Request
#
# source://sinatra//lib/sinatra/base.rb#28
class Sinatra::Request < ::Rack::Request
  # Returns an array of acceptable media types for the response
  #
  # source://sinatra//lib/sinatra/base.rb#33
  def accept; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#45
  def accept?(type); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#63
  def forwarded?; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#71
  def idempotent?; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#75
  def link?; end

  # source://sinatra//lib/sinatra/base.rb#83
  def params; end

  # source://sinatra//lib/sinatra/base.rb#49
  def preferred_type(*types); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#67
  def safe?; end

  # source://rack/3.1.8/lib/rack/request.rb#410
  def secure?; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#79
  def unlink?; end
end

# source://sinatra//lib/sinatra/base.rb#91
class Sinatra::Request::AcceptEntry
  # @return [AcceptEntry] a new instance of AcceptEntry
  #
  # source://sinatra//lib/sinatra/base.rb#95
  def initialize(entry); end

  # source://sinatra//lib/sinatra/base.rb#108
  def <=>(other); end

  # Returns the value of attribute entry.
  #
  # source://sinatra//lib/sinatra/base.rb#93
  def entry; end

  # source://sinatra//lib/sinatra/base.rb#129
  def method_missing(*args, &block); end

  # Returns the value of attribute params.
  #
  # source://sinatra//lib/sinatra/base.rb#92
  def params; end

  # Sets the attribute params
  #
  # @param value the value to set the attribute params to.
  #
  # source://sinatra//lib/sinatra/base.rb#92
  def params=(_arg0); end

  # source://sinatra//lib/sinatra/base.rb#112
  def priority; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#125
  def respond_to?(*args); end

  # source://sinatra//lib/sinatra/base.rb#121
  def to_s(full = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#117
  def to_str; end
end

# source://sinatra//lib/sinatra/base.rb#29
Sinatra::Request::HEADER_PARAM = T.let(T.unsafe(nil), Regexp)

# source://sinatra//lib/sinatra/base.rb#30
Sinatra::Request::HEADER_VALUE_WITH_PARAMS = T.let(T.unsafe(nil), Regexp)

# source://sinatra//lib/sinatra/base.rb#134
class Sinatra::Request::MimeTypeEntry
  # @return [MimeTypeEntry] a new instance of MimeTypeEntry
  #
  # source://sinatra//lib/sinatra/base.rb#137
  def initialize(entry); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#148
  def accepts?(entry); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#156
  def matches_params?(params); end

  # Returns the value of attribute params.
  #
  # source://sinatra//lib/sinatra/base.rb#135
  def params; end

  # source://sinatra//lib/sinatra/base.rb#152
  def to_str; end
end

# The response object. See Rack::Response and Rack::Response::Helpers for
# more info:
# https://rubydoc.info/github/rack/rack/main/Rack/Response
# https://rubydoc.info/github/rack/rack/main/Rack/Response/Helpers
#
# source://sinatra//lib/sinatra/base.rb#168
class Sinatra::Response < ::Rack::Response
  # source://sinatra//lib/sinatra/base.rb#171
  def body=(value); end

  # source://sinatra//lib/sinatra/base.rb#176
  def each; end

  # source://sinatra//lib/sinatra/base.rb#180
  def finish; end

  private

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#204
  def calculate_content_length?; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#212
  def drop_body?; end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/base.rb#208
  def drop_content_info?; end
end

# source://sinatra//lib/sinatra/base.rb#169
Sinatra::Response::DROP_BODY_RESPONSES = T.let(T.unsafe(nil), Array)

# Sinatra::ShowExceptions catches all exceptions raised from the app it
# wraps. It shows a useful backtrace with the sourcefile and clickable
# context, the whole Rack environment and the request data.
#
# Be careful when you use this on public-facing sites as it could reveal
# information helpful to attackers.
#
# source://sinatra//lib/sinatra/show_exceptions.rb#12
class Sinatra::ShowExceptions < ::Rack::ShowExceptions
  # @return [ShowExceptions] a new instance of ShowExceptions
  #
  # source://sinatra//lib/sinatra/show_exceptions.rb#18
  def initialize(app); end

  # source://sinatra//lib/sinatra/show_exceptions.rb#22
  def call(env); end

  # source://sinatra//lib/sinatra/show_exceptions.rb#48
  def template; end

  private

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/show_exceptions.rb#54
  def bad_request?(exception); end

  # source://sinatra//lib/sinatra/show_exceptions.rb#63
  def frame_class(frame); end

  # @return [Boolean]
  #
  # source://sinatra//lib/sinatra/show_exceptions.rb#58
  def prefers_plain_text?(env); end
end

# source://sinatra//lib/sinatra/show_exceptions.rb#74
Sinatra::ShowExceptions::TEMPLATE = T.let(T.unsafe(nil), ERB)

# Extremely simple template cache implementation.
#   * Not thread-safe.
#   * Size is unbounded.
#   * Keys are not copied defensively, and should not be modified after
#     being passed to #fetch.  More specifically, the values returned by
#     key#hash and key#eql? should not change.
#
# Implementation copied from Tilt::Cache.
#
# source://sinatra//lib/sinatra/base.rb#948
class Sinatra::TemplateCache
  # @return [TemplateCache] a new instance of TemplateCache
  #
  # source://sinatra//lib/sinatra/base.rb#949
  def initialize; end

  # Clears the cache.
  #
  # source://sinatra//lib/sinatra/base.rb#964
  def clear; end

  # Caches a value for key, or returns the previously cached value.
  # If a value has been previously cached for key then it is
  # returned. Otherwise, block is yielded to and its return value
  # which may be nil, is cached under key and returned.
  #
  # source://sinatra//lib/sinatra/base.rb#957
  def fetch(*key); end
end

# Template rendering methods. Each method takes the name of a template
# to render as a Symbol and returns a String with the rendered output,
# as well as an optional hash with additional options.
#
# `template` is either the name or path of the template as symbol
# (Use `:'subdir/myview'` for views in subdirectories), or a string
# that will be rendered.
#
# Possible options are:
#   :content_type   The content type to use, same arguments as content_type.
#   :layout         If set to something falsy, no layout is rendered, otherwise
#                   the specified layout is used (Ignored for `sass`)
#   :layout_engine  Engine to use for rendering the layout.
#   :locals         A hash with local variables that should be available
#                   in the template
#   :scope          If set, template is evaluate with the binding of the given
#                   object rather than the application instance.
#   :views          Views directory to use.
#
# source://sinatra//lib/sinatra/base.rb#741
module Sinatra::Templates
  # source://sinatra//lib/sinatra/base.rb#746
  def initialize; end

  # source://sinatra//lib/sinatra/base.rb#792
  def asciidoc(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#774
  def builder(template = T.unsafe(nil), options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#752
  def erb(template, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # Calls the given block for every possible template file in views,
  # named name.ext, where ext is registered on engine.
  #
  # @yield [::File.join(views, "#{name}.#{@preferred_extension}")]
  #
  # source://sinatra//lib/sinatra/base.rb#821
  def find_template(views, name, engine); end

  # source://sinatra//lib/sinatra/base.rb#756
  def haml(template, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#779
  def liquid(template, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#796
  def markaby(template = T.unsafe(nil), options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#783
  def markdown(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#800
  def nokogiri(template = T.unsafe(nil), options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#814
  def rabl(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#788
  def rdoc(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#760
  def sass(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#767
  def scss(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  # source://sinatra//lib/sinatra/base.rb#805
  def slim(template, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # source://sinatra//lib/sinatra/base.rb#809
  def yajl(template, options = T.unsafe(nil), locals = T.unsafe(nil)); end

  private

  # source://sinatra//lib/sinatra/base.rb#930
  def compile_block_template(template, options, &body); end

  # source://sinatra//lib/sinatra/base.rb#892
  def compile_template(engine, data, options, views); end

  # source://sinatra//lib/sinatra/base.rb#841
  def render(engine, data, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end

  # logic shared between builder and nokogiri
  #
  # source://sinatra//lib/sinatra/base.rb#832
  def render_ruby(engine, template, options = T.unsafe(nil), locals = T.unsafe(nil), &block); end
end

# source://sinatra//lib/sinatra/base.rb#742
module Sinatra::Templates::ContentTyped
  # Returns the value of attribute content_type.
  #
  # source://sinatra//lib/sinatra/base.rb#743
  def content_type; end

  # Sets the attribute content_type
  #
  # @param value the value to set the attribute content_type to.
  #
  # source://sinatra//lib/sinatra/base.rb#743
  def content_type=(_arg0); end
end

# source://sinatra//lib/sinatra/version.rb#4
Sinatra::VERSION = T.let(T.unsafe(nil), String)

# source://sinatra//lib/sinatra/base.rb#2100
class Sinatra::Wrapper
  # @return [Wrapper] a new instance of Wrapper
  #
  # source://sinatra//lib/sinatra/base.rb#2101
  def initialize(stack, instance); end

  # source://sinatra//lib/sinatra/base.rb#2114
  def call(env); end

  # source://sinatra//lib/sinatra/base.rb#2110
  def helpers; end

  # source://sinatra//lib/sinatra/base.rb#2118
  def inspect; end

  # source://sinatra//lib/sinatra/base.rb#2106
  def settings; end
end
