<div class="grid-container border-05 border-base-lightest radius-lg padding-bottom-2 margin-bottom-5">
  <div class="display-flex flex-column flex-align-center">
    <h2 class="font-sans-lg text-primary"><%= t('call_to_action.ready_to_deploy') %></h2>
    <p class="margin-top-0"><%= t('call_to_action.review_changes') %></p>
    <div class="grid-row"> 
      <a class="usa-button usa-button--outline align-center usa-link usa-link--external text-primary text-no-underline" target="_blank" href="https://developers.login.gov/production"><%= t('call_to_action.read_process') %></a>
      <% unless IdentityConfig.store.prod_like_env %>
        <div class="usa-button align-center usa-dark-background" aria-controls="additional-data-modal" data-open-modal><%= t('call_to_action.submit_request') %></div>
      <% end %>
    </div>
    <div class="grid-row margin-top-2 usa-alert measure-5 usa-alert--warning">
      <p class="usa-alert__body margin-05">
        <%= t('call_to_action.two_weeks') %>
      </p>
    </div>
  </div>
</div>

<div class="margin-y-3">
  <div
    class="usa-modal usa-modal--lg"
    id="additional-data-modal"
    aria-labelledby="modal-1-heading"
    aria-describedby="modal-1-description"
  >
    <div class="usa-modal__content">
      <div class="usa-modal__main">
        <h2 class="usa-modal__heading" id="modal-1-heading">
          Please enter the information below to submit your request to deploy.
        </h2>
        <%= form_with model: @service_provider, url: service_providers_prod_request_path(@service_provider), method: :post do |form| %>
          <%= form.hidden_field :id, value: @service_provider.id %>
          <% ServiceProvider::ZENDESK_TICKET_FIELD_INFORMATION.each do |id, label| %>
            <div class="form-group">
              <%= form.label id, t("service_provider_form.zendesk_ticket.#{label}.label"), class: 'usa-label usa_collection_select' %>
              <%= form.text_field id, id: id, class: 'block col-12 string required usa-input' %>
              <p class="usa-hint"><%= t("service_provider_form.zendesk_ticket.#{label}.hint_html") %></p>
            </div>
          <% end %>
          <div class="usa-modal__footer">
            <ul class="usa-button-group">
              <li class="usa-button-group__item">
                <button
                  type="button"
                  class="usa-button usa-button--unstyled padding-105 text-center"
                  data-close-modal
                >
                  Cancel
                </button>
              </li>
              <li class="usa-button-group__item">
                <input type="submit" class="usa-button" data-close-modal value="Submit Request"/>
              </li>
            </ul>
          </div>
        <% end %>
      </div>
      <button
        type="button"
        class="usa-button usa-modal__close"
        aria-label="Close this window"
        data-close-modal
      >
        <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">
          <use href="/assets/img/sprite.svg#close"></use>
        </svg>
      </button>
    </div>
  </div>
</div>
